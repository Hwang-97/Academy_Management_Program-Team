ğŸ™†â€â™‚ï¸ì˜¤ë¼í´ íŒ€ í”„ë¡œì íŠ¸ğŸ™†â€â™‚ï¸

![image](https://user-images.githubusercontent.com/85034286/153702662-7a8446de-9e1c-4348-918a-e49cb78dcecd.png)

>  í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” 6ëª…ì˜ íŒ€ì›ì´ ì•½ 5ì¼ê°„ ì§„í–‰í•œ ì˜¤ë¼í´ê¸°ë°˜ì˜ í•™ì› ê´€ë¦¬ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. <br />

<br />

# ğŸ“Œ Table Of Contents
* [ğŸ“– Introduction](#-introduction)
* [ğŸ™‹ My Role](#-my-role)
* [ğŸ” Detail](#-detail)
* [ğŸ’¡ Review](#-review)

<br />
<br />
<br />



# ğŸ“– Introduction
### 1. í”„ë¡œì íŠ¸ ê°œìš”
* êµìœ¡ ì„¼í„°ë¥¼ ìš´ì˜í•¨ì— ìˆì–´ í•„ìš”í•œ ì œë°˜ ê¸°ëŠ¥ë“¤ì„ í•˜ë‚˜ì˜ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

* êµìœ¡ìƒë“¤ì˜ êµìœ¡ í™˜ê²½ ì¡°ì„±ì„ ìœ„í•˜ì—¬ êµìœ¡ ì œë°˜ í–‰ì • ì‚¬í•­ë“¤ì„ ì»¨íŠ¸ë¡¤í•  ìˆ˜ ìˆë‹¤.
* êµìœ¡ìƒë“¤ê°„ ì»¤ë®¤ë‹ˆí‹° ê°œì„¤ì„ í†µí•´ ì¸ì  ë„¤íŠ¸ì›Œí¬ë¥¼ í™œì„±í™” í•  ìˆ˜ ìˆë‹¤.

<br />

### 2. ê°œë°œ í™˜ê²½
<img src="https://img.shields.io/badge/oracle-F80000?style=for-the-badge&logo=oracle&logoColor=white">

* ë³¸ í”„ë¡œì íŠ¸ëŠ” ì˜¤ë¼í´ê³¼ ì˜¤ë¼í´ ê¸°ëŠ¥ì¤‘ PL/SQLì„ ì£¼ë¡œ ì‚¬ìš©í•˜ì—¬ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.
* ORACLE Developerë¥¼ ì´ìš©í•˜ì˜€ê³  , ERD ì‘ì„±ìœ¼ë¡œëŠ” exERDë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
* oracleì—ì„œ commit í•˜ë©´ ì„œë²„ì— ì •ë³´ê°€ ì €ì¥ë˜ê¸° ë•Œë¬¸ì— ë”°ë¡œ í˜•ìƒê´€ë¦¬íˆ´ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
<br />

### 3. í”„ë¡œì íŠ¸ ë‚´ìš©
![image](https://user-images.githubusercontent.com/85034286/153702031-0989fcd3-ac85-41ad-af2c-19e5aaa1fbcf.png)

#### 3-1. ê´€ë¦¬ì
* ê¸°ì´ˆ ì •ë³´ ê´€ë¦¬
* ê³„ì • ê´€ë¦¬
* ì¶œê²° ê´€ë¦¬
* êµì‚¬ ë° êµìœ¡ìƒ ê´€ë¦¬
* ê°œì„¤ ê³¼ì • ë° ê³¼ëª© ê´€ë¦¬
* ë©´ì ‘ ê´€ë¦¬
* êµìœ¡ì§€ì›ê¸ˆ ê´€ë¦¬

#### 3-2. êµì‚¬
* ê°•ì˜ ìŠ¤ì¼€ì¤„ ì¡°íšŒ
* ë³¸ì¸ ì •ë³´ ì¡°íšŒ
* í•™ìƒ ì •ë³´ ì¡°íšŒ 
* ë‹´ë‹¹ ê³¼ì • ê´€ë¦¬
* ì„±ì  ê´€ë ¨ ì—…ë¬´ 
* êµìœ¡ìƒ ê´€ë¦¬

#### 3-3. êµìœ¡ìƒ
* ìˆ˜ê°• ì •ë³´ ì¡°íšŒ
* êµìœ¡ ì§€ì›ê¸ˆ ì¡°íšŒ
* í”„ë¡œì íŠ¸ ê³µê³  ëª¨ì§‘
* êµì‚¬ í‰ê°€
* ì‚¬í›„ ì²˜ë¦¬ ì…ë ¥
* Q&A

<br />
<br />
<br />



# ğŸ™‹ My Role
### 1. ë‹´ë‹¹ ì—…ë¬´
![image](https://user-images.githubusercontent.com/85034286/153706245-23cdeb49-92d6-48b9-8bb6-360f4065692d.png)

#### 1-1. í•™ìƒ > ì¶œê²°ê´€ë¦¬
* í•™ìƒì´ ë³¸ì¸ì˜ ì¶œê²°ì„ ì¡°íšŒ í•  ìˆ˜ ìˆë‹¤. ì¶œì„ ì‹œ Sysdateë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ê°ì¸ì§€ í™•ì¸í•œë‹¤. ì´í›„ í‡´ê·¼ì‹œ Sysdateë¥¼ í™•ì¸í•´ì„œ ì¡°í‡´ì¸ì§€ í™•ì¸í•œë‹¤ (ì´ë¯¸ ì§€ê°ì´ ì íŒ ê²½ìš° ì¡°í‡´ë¥¼ í•´ë„ ë³€í™”í•˜ì§€ ì•ŠëŠ”ë‹¤.)

![image](https://user-images.githubusercontent.com/85034286/153701974-09650a46-9cbd-4e22-b383-34aa81c4c37b.png)

#### 1-2. ì„ ìƒë‹˜ > í•™ìƒ íŒ€ CRUD
* ì„ ìƒë‹˜ì€ ë³¸ì¸ ê°•ì˜ë¥¼ ìˆ˜ê°•ì¤‘ì¸ í•™ìƒì˜ íŒ€ì„ ì¡°ì‘í•  ìˆ˜ ìˆë‹¤.

![image](https://user-images.githubusercontent.com/85034286/153707857-cbacf823-5cb1-4b00-826a-fa67b266ea38.png)

#### 1-3. í•™ìƒ > í•™ìƒ ì •ë³´ í™•ì¸
* í¬ë§ ì·¨ì—… ì •ë³´ ë° ìˆ˜ê°•ì¤‘ì¸ ìˆ˜ì—…ì˜ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

![image](https://user-images.githubusercontent.com/85034286/153708338-4c1e83d2-fb33-41a8-bbb1-301eae587b5a.png)



<br />
<br />



# ğŸ” Detail
### 1. ì£¼ìš” ì½”ë“œ
* í•´ë‹¹ ì½”ë“œëŠ” ë³¸ì¸ì˜ êµìœ³ì„ ìˆ˜ê°•ì¤‘ì¸ êµìœ¡ìƒì˜ íŒ€ì„ ê²€ìƒ‰í•˜ëŠ” ì½”ë“œë¡œì¨ ì¤‘ìš”í•œ ë¶€ë¶„ì¸ begin ~ exception ê¹Œì§€ë§Œ ë‚˜íƒ€ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
    ```sql
    ...
    begin
    select teacher_seq into vcheck from tblteacher where teacher_seq = (select teacher_seq from tblteacher where pid = id and jumin = ppw);
    open vcursor;
        loop
            fetch vcursor into name , seq , team;
            exit when vcursor%notfound;
            dbms_output.put_line('ì´ë¦„:'||name || '  ìˆ˜ê°• ë²ˆí˜¸: ' || seq || '  íŒ€: ' || team);
        end loop;
    close vcursor;
    exception
    when others then
    dbms_output.put_line('              ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”');
    ...
    ```
* í•´ë‹¹ ì½”ë“œëŠ” ë³¸ì¸ì˜ ê°•ì˜ë¥¼ ìˆ˜ê°•ì¤‘ì¸ í•™ìƒì˜ íŒ€ì„ ì§€ì •í•˜ëŠ” ì½”ë“œë¡œì¨ ì¤‘ìš”í•œ ë¶€ë¶„ì¸ begin ~ exception ê¹Œì§€ë§Œ ë‚˜íƒ€ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
    ```sql
    ...
    begin
    select teacher_seq into seq from tblteacher where teacher_seq = (select teacher_seq from tblteacher where id = pid and jumin = ppw);
    select count(*) into vcheck1 from tblteam where sugang_seq = student1;
    select count(*) into vcheck2 from tblteam where sugang_seq = student2;
    select count(*) into vcheck3 from tblteam where sugang_seq = student3;
    select count(*) into vcheck4 from tblteam where sugang_seq = student4;
    select count(*) into vcheck5 from tblteam where sugang_seq = student5;
    select count(*) into vcheck6 from tblteam where sugang_seq = student6;
    if seq>0 then
        if vcheck1 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student1);
            dbms_output.put_line('sugang_seq : '||student1||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
        else
            dbms_output.put_line('sugang_seq : '||student1||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
        end if;
        if vcheck2 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student2);
            dbms_output.put_line('sugang_seq : '||student2||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
         else
            dbms_output.put_line('sugang_seq : '||student2||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
            end if;
        if vcheck3 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student3);
            dbms_output.put_line('sugang_seq : '||student3||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
        else
            dbms_output.put_line('sugang_seq : '||student3||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
        end if;
        if vcheck4 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student4);
            dbms_output.put_line('sugang_seq : '||student4||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
        else
            dbms_output.put_line('sugang_seq : '||student4||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
        end if;
        if vcheck5 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student5);
            dbms_output.put_line('sugang_seq : '||student5||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
        else
            dbms_output.put_line('sugang_seq : '||student5||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');
        end if;
        if vcheck6 = 0 then
            insert into tblTeam VALUES ((select team_seq+1 from(select team_seq from tblteam order by team_seq desc) where rownum = 1),t,student6);
            dbms_output.put_line('sugang_seq : '||student6||' í•™ìƒ ì¶”ê°€ ì™„ë£Œ');
          else
            dbms_output.put_line('sugang_seq : '||student6||' í•™ìƒ ì€ ì´ë¯¸ íŒ€ì´ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.');end if;
    end if;
    exception
        when others then
        dbms_output.put_line('              ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”');
    end;
    ...
    ```
* í•´ë‹¹ ì½”ë“œëŠ” í•™ìƒì´ ë³¸ì¸ì˜ ì¶œê²°ì„ ê´€ë¦¬í•˜ëŠ” ì½”ë“œë¡œì¨ ì¤‘ìš”í•œ ë¶€ë¶„ì¸ begin ~ exception ê¹Œì§€ë§Œ ë‚˜íƒ€ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
    ```sql
    ...
    begin
    select 1 into vcheck  from tblsugang su where su.student_seq = ( select stu.student_seq from tblstudent stu where stu.id = pid and substr(stu.ssn,7) = ppw);
    open vcursor;
        LOOP
            fetch vcursor into studentName ,attendDate  ,absenceType ,vGoToWork ,vOffWork;
            exit when vcursor%notfound;
           dbms_output.put_line(' ì´ë¦„ : '||studentName||' | ì¶œì„ '||attendDate||' | ì¶œê²° ì¢…ë¥˜ : '||absenceType||' | ì…ì‹¤ ì‹œê°„ : '||vGoToWork||' | í‡´ì‹¤ ì‹œê°„ : '||vOffWork);
         end loop;
    close vcursor;
    exception
        when others then
        dbms_output.put_line('              ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”');
    end;
    ...
    ```
* í•´ë‹¹ ì½”ë“œëŠ” í•™ìƒì´ ì¶œì„ì„ í–ˆì„ë•Œ ì‘ë™í•˜ëŠ” ì½”ë“œë¡œì¨ ì¤‘ìš”í•œ ë¶€ë¶„ì¸ begin ~ exception ê¹Œì§€ë§Œ ë‚˜íƒ€ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
    ```sql
    begin
    select 1 into vcheck  from tblsugang su where su.student_seq = ( select stu.student_seq from tblstudent stu where stu.id = pid and substr(stu.ssn,7) = ppw);
    if vcheck <> 0 then
        insert into tblAttendence(Attendence_Seq, absence_type, Attendence_Date, Sugang_Seq , GoTowork)
        select 
            (select * from (select attendence_seq from tblAttendence order by attendence_seq desc) where rownum =1)+1,
            case
                when to_char(sysdate , 'HH24:MM')> '09:00' then 'ì§€ê°'
                when to_char(sysdate , 'HH24:MM')< '09:00' then 'ê¸°íƒ€'
            end,
            to_char(sysdate , 'yyyy-mm-dd'),
            su.sugang_seq,
            sysdate
        from tblsugang su
            where su.student_seq = ( select stu.student_seq from tblstudent stu where stu.id = pid and substr(stu.ssn,7) = ppw) ;
        dbms_output.put_line('ì¶œê·¼ì™„ë£Œ');
    end if;
    exception
        when others then
        dbms_output.put_line('              ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”');
    end;
    ```    
    
* í•´ë‹¹ ì½”ë“œëŠ” í•™ìƒì´ í‡´ê·¼ í–ˆì„ë•Œ ì‘ë™í•˜ëŠ” ì½”ë“œë¡œì¨ ì¤‘ìš”í•œ ë¶€ë¶„ì¸ begin ~ exception ê¹Œì§€ë§Œ ë‚˜íƒ€ë‚´ ë³´ì•˜ìŠµë‹ˆë‹¤.
    ```sql
    begin
    select 1 into vcheck  from tblsugang su where su.student_seq = ( select stu.student_seq from tblstudent stu where stu.id = pid and substr(stu.ssn,7) = ppw);
    if vcheck <> 0 then
        update tblAttendence set offwork = sysdate, 
                         absence_type = ( select 
                                                case
                                                    when  ABSENCE_TYPE = 'ì§€ê°' then 'ì§€ê°'
                                                    when  to_char(sysdate , 'HH24:MM')< '18:00' then 'ì¡°í‡´'
                                                    when  to_char(sysdate , 'HH24:MM')> '18:00' then 'ì •ìƒ'
                                                end
                                            from tblAttendence 
                                                where ATTENDENCE_SEQ = (select 
                                                                            * 
                                                                        from (select 
                                                                                ATTENDENCE_SEQ 
                                                                              from tblsugang s inner join tblAttendence a on s.sugang_seq = a.sugang_seq 
                                                                              where student_seq  = ( select 
                                                                                                        stu.student_seq 
                                                                                                     from tblstudent stu 
                                                                                                        where stu.id = pid and substr(stu.ssn,7) = ppw) 
                                                                              order by attendence_seq desc) 
                                                                        where rownum =1)) -- ìˆ˜ì •í•´ì•¼ë  í–‰ì˜ ì¶œê·¼ì‹œê°„ ì°¸ì¡°
                                                where ATTENDENCE_SEQ = (select 
                                                                            * 
                                                                        from (select 
                                                                                ATTENDENCE_SEQ 
                                                                              from tblsugang s inner join tblAttendence a on s.sugang_seq = a.sugang_seq 
                                                                              where student_seq  = ( select 
                                                                                                        stu.student_seq 
                                                                                                     from tblstudent stu 
                                                                                                        where stu.id = pid and substr(stu.ssn,7) = ppw) 
                                                                              order by attendence_seq desc) 
                                                                       where rownum =1); -- ë¡œê·¸ì¸ í•œ í•™ìƒì´ ë§ˆì§€ë§‰ì— ë‚¨ê¹€ ì •ë³´
       dbms_output.put_line('í‡´ê·¼ì™„ë£Œ');
     end if;
    exception
    when others then
    dbms_output.put_line('              ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”');
    end;
    ```    
<br />
<br />
<br />

# ğŸ’¡ Review
### 1. í›„ê¸°
* DB ì‘ì—…ì‹œ ê¸°ì´ˆ ERD ì„¤ê³„ê°€ ì •ë§ ì¤‘ìš”í•˜ê³  , í•´ë‹¹ ê³¼ì •ì´ ì¡°ê¸ˆì´ë¼ë„ ì˜ëª» ì§œì—¬ì¡Œì„ì‹œ ê·¸ í›„ì— íŒŒì¥ì´ ì •ë§ í¬ë‹¤ëŠ”ê²ƒì„ ëª¸ì†Œ ëŠë¼ê²Œ ëœ ê³„ê¸°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.
* ê°ê°ì˜ ì˜¤ë¼í´ í™˜ê²½ì—ì„œ êµ¬í˜„í•˜ê³  ì¿¼ë¦¬ëŠ” ëª¨ìœ¼ë¥¼ ë°©ì‹ìœ¼ë¡œ í˜‘ì—…ì„ ì§„í–‰í–ˆëŠ”ë° ORCLE cloud ë¥¼ ì‚¬ìš©í–ˆìœ¼ë©´ ë” íš¨ê³¼ì ìœ¼ë¡œ í˜‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆì—ˆì„í…ë°.. ë¼ëŠ” ì•„ì‰¬ìŒì´ ìˆìŠµë‹ˆë‹¤.

<br />
<br />
